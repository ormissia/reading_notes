---
doc_type: weread-highlights-reviews
bookId: "3300071827"
author: 夏丽蒂·梅杰斯 莉兹·方-琼斯 乔治·米兰达
cover: https://cdn.weread.qq.com/weread/cover/46/cpplatform_phcnfqca652fh1oycvbccl/t7_cpplatform_phcnfqca652fh1oycvbccl1695380526.jpg
reviewCount: 0
noteCount: 25
readingStatus: 读完
progress: 31%
totalReadDay: 11
readingTime: 16小时21分钟
readingDate: 2024-03-10
finishedDate: 2024-04-24
isbn: 9787111729099
lastReadDate: 2024-04-23

---

# 可观测性工程


#读书笔记 #经济理财 #管理

# 元数据
> [!abstract] 可观测性工程
> - ![ 可观测性工程|200](https://cdn.weread.qq.com/weread/cover/46/cpplatform_phcnfqca652fh1oycvbccl/t7_cpplatform_phcnfqca652fh1oycvbccl1695380526.jpg)
> - 书名： 可观测性工程
> - 作者： 夏丽蒂·梅杰斯 莉兹·方-琼斯 乔治·米兰达
> - 简介： 本书基于作者在可观测性领域的丰富实践经验撰写而成，旨在帮助读者在工程团队内开展可观测性实践。书中深入分析了在软件交付和运营的背景下可观测性意味着什么、如何构建基础组件来实现可观测性、可观测性对团队动力的影响、可观测性规模化的考虑因素，以及在组织中建立可观测性文化的实用方法，还通过丰富的实例展示了如何利用可观测性改进现有的工作，并提供了从传统工具（如度量工具、监控工具和日志管理工具）迁移的实际注意事项。本书适合软件工程师、产品经理、软件交付和运维人员等阅读。
> - 出版时间 2023-07-01 00:00:00
> - ISBN： 9787111729099
> - 分类： 经济理财-管理
> - 出版社： 机械工业出版社
> - PC地址：https://weread.qq.com/web/reader/51b32970813ab828eg017b21

# 高亮划线


## 序

> 📌 把可观测性视为监控是非常愚蠢的。  
> ⏱ 2024-04-09 15:28:56 ^3300071827-9-705-721

> 📌 在过去的几十年里，监控的理念影响了无数工具、系统、流程和实践的发展，其中许多已经成为事实上的行业标准。这些为特定领域设计的监控工具已经出色地完成了任务。但它们不能，也不应该被称为“可观测性”工具并推销给无法区分二者的客户。这样做除了给客户带来大量时间、精力和金钱损失外，几乎没有任何明显的好处。  
> ⏱ 2024-04-15 17:25:14 ^3300071827-9-1385-1532

> 📌 可观测性工具可以帮助团队访问大量的运行态的细粒度数据，但成功地理解堆积如山的数据从而在软件的整个生命周期中获得收益，才是明确使用该工具的价值，也才能体现出可观测性本身的价值！这个过程本身就需要用假设驱动的、迭代调试的心态来逐步推进。  
> ⏱ 2024-04-15 17:41:07 ^3300071827-9-1809-1925

> 📌 如果不把这些想法提炼成具有交叉性的实际解决方案，那么就是在对监控和可观测性之间模糊的哲学区别夸夸其谈。  
> ⏱ 2024-04-15 17:41:53 ^3300071827-9-1982-2033

## 前言

> 📌 将可观测性引入系统既是一个技术挑战，也是一个文化挑战。  
> ⏱ 2024-04-15 17:45:55 ^3300071827-10-1421-1448

### 第1章 什么是可观测性

> 📌 在控制论中，可观测性被定义为一种度量：可以根据系统的外部输出信息推断出系统内部状态的好坏。  
> ⏱ 2024-04-15 17:54:26 ^3300071827-12-1504-1549

> 📌 简单地说，我们对软件系统的“可观测性”的定义是：一种度量能力，能帮助你更好地理解和解释系统当前所处的任何状态，无论这种状态多么新颖或怪异。你必须能够在特定的迭代调查中，跨系统状态数据的所有维度和维度组合，比较调试这种怪异或新颖的状态，而无须事先定义或预测这些调试需求。如果你无须发布新代码（如增加一个用于调试的日志）就可以理解任何新颖或怪异的状态，那么你的系统就具备可观测性。  
> ⏱ 2024-04-15 18:16:30 ^3300071827-12-3802-3990

> 📌 从某种程度上来说，相比于成熟的机械工程，软件工程本身是一门更年轻、发展更快的学科。软件系统的开发并不需要物理公式计算。在某种程度上，缺乏严谨性反而是软件行业没有更早引入可观测性所产生的一个历史伤疤。  
> ⏱ 2024-04-15 18:19:23 ^3300071827-12-4521-4620

> 📌 可观测性本身并不是所有软件工程问题的完整解决方案。但它确实帮助你清楚地看到在软件的所有阴暗角落发生了什么，否则你通常会在黑暗中磕磕绊绊，试图通过脑补来理解事物。  
> ⏱ 2024-04-15 18:31:32 ^3300071827-12-4951-5031

> 📌 使用监控，软件开发人员不能完全看到系统。开发人员“斜视”着系统，并且尝试各种方式，如增加备份、提高容量，并预测可能失败的各种方式，但都是徒劳的。然后观察并且监控那些已知的故障模式。他们会设置性能阈值，并随意地将其读作“好”或“坏”。开发人员通过部署一个小型机器人军队，一遍又一遍地检测这些阈值，把发现收集到仪表盘上。之后，围绕这些机器人组织成团队、轮岗和升级。当这些机器人表现不好时，开发人员会提醒自己。随着时间的推移，他们倾向于像园丁一样对这些阈值进行修剪、调整，并对生长的噪声信号大惊小怪。  
> ⏱ 2024-04-16 09:40:14 ^3300071827-12-6704-6951

> 📌 许多复杂的监控系统的能力都建立在这个指标的基础上：时序数据库(TSDB)、统计分析、图形库、花哨的仪表盘、保证响应的轮岗、运维团队、事件升级策略，以及消化和响应机器人大军发给你的各种告警消息。  
> ⏱ 2024-04-16 09:42:11 ^3300071827-12-7915-8011

> 📌 一旦发生了问题，你就会开始回退到底层命令，如strace、tcpdump和数百个print语句，以发现有关系统日常故障的问题。  
> ⏱ 2024-04-16 09:44:38 ^3300071827-12-8113-8176

> 📌 在云原生系统中，关于调试的最困难的事情不再是理解代码如何运行，而是找到有问题的代码存在于系统的何处。通过仪表盘或服务映射来查看哪个节点或服务速度较慢是不太可能的，因为这些系统中的分布式请求经常在不同的节点中循环。在这些系统中找到性能瓶颈非常具有挑战性。当某件事变慢了时，一切都变慢了。更有挑战性的是，因为云原生系统通常作为平台运行，代码甚至可能存在于该团队无法控制的系统部分。  
> ⏱ 2024-04-16 10:06:08 ^3300071827-12-11625-11813

> 📌 通过可观测性的方式进行调试是从一个异常的状态开始。在这个状态发生的同时某些深层上下文也发生了。通过可观测性进行调试就是尽量保留每一个请求的上下文，这样你就可以针对该上下文修复这个bug或者调整相关的环境配置。监控面向的是已知问题是如何发生的，但可观测性面向的是未知问题是如何发生的。  
> ⏱ 2024-04-16 10:08:06 ^3300071827-12-12046-12187

> 📌 基数指的是数据中值(value)的唯一性，维度则指的是数据中键(key)的数量。  
> ⏱ 2024-04-16 10:16:01 ^3300071827-12-13449-13489

> 📌 有了更多可用的维度，你就可以检测各种事件，从而在任何一组服务请求之间建立高度复杂的关联（参见第8章）。数据的维度越高，你就越有可能发现应用程序行为中隐藏的或难以捉摸的模式。在现代系统中，可能发生的故障的排列是无限的，仅在传统监控数据中捕捉几个基本维度是不够的。  
> ⏱ 2024-04-16 10:17:13 ^3300071827-12-14237-14367

> 📌 监控创造了一种完全被动的系统管理方法。你可以捕捉到你已预测和知道要检测的故障情况。如果你知道它会发生，那么你就会检测它。对于你不知道要查看的每种情况，你必须先看到它，处理这个令你不悦的意外情况，尽你所能地调查它，你可能会走入一个死胡同，要求你在正确诊断之前多次看到同样的情况，然后才可以对它进行检测。在这种模式中，工程师被反向刺激，从而对可能造成不可预测的故障的情况产生强烈的反感。  
> ⏱ 2024-04-16 11:01:50 ^3300071827-12-15369-15560

### 第2章 可观测性和监控之间的调试实践有何不同

> 📌 传统的监控工具通过对照已知阈值检测系统条件来工作，这些阈值将提示是否存在已知设定条件的错误。这是一种非常被动的方式，因为只能发现已知可能出现问题的错误。
相反，可观测性工具的工作原理是通过迭代探索性调查来系统地确定性能问题可能发生的位置和原因。可观测性使我们能够主动识别任何故障模式，无论是之前已知的还是未知的。  
> ⏱ 2024-04-16 15:31:04 ^3300071827-13-568-752

> 📌 最重要的是，你团队中最厉害的故障排查者总是那个在此工作时间最长的人吗？这是一个致命的问题，你的大部分关于你系统的知识不是来自一个大众化的方法，如某种工具，而是来自某个人的亲身实践经验。  
> ⏱ 2024-04-17 10:36:24 ^3300071827-13-7380-7472

> 📌 监控是一种被动的方法，最适合用于检测已知的问题和解决过去遇到过的情况；监控这种方法是以告警和中断的概念为中心的。相反，可观测性让你沿着任何维度或各种组合的维度明确地发现任何问题的来源，而不需要事先预测问题可能发生在哪里，以及问题是如何发生的；这种模式则以提问和理解为中心。  
> ⏱ 2024-04-17 10:39:04 ^3300071827-13-7973-8109

> 📌 可观测性不是依靠专家的预知，而是允许工程师将每一次诊断视为新诊断。  
> ⏱ 2024-04-17 10:44:53 ^3300071827-13-8877-8910

### 第3章 不通过可观测性扩展系统的经验教训

> 📌 在这种“玻璃城堡”方法中，部署冻结是保持生产服务稳定的常用方法。  
> ⏱ 2024-04-17 15:43:29 ^3300071827-14-7307-7339

> 📌 预发系统不是生产系统。它们永远无法复现生产中发生的事情。预生产系统的无菌实验室环境永远无法模拟你服务的真实付费用户在现实世界中测试代码的相同条件。然而，许多团队仍然将生产视为一座“易碎的玻璃城堡”。  
> ⏱ 2024-04-17 17:03:53 ^3300071827-14-10224-10323

> 📌 如果你曾经随时待命管理生产系统，那么你可能会理解这种模式。英雄文化太可怕了。这对公司不好。这也对“英雄”不好（会导致极其严重的倦怠）。对于每一个后来加入的工程师来说，这是非常令人沮丧的，他们觉得除非有一个更高级的工程师离开，否则他们永远不可能成为“最好”的故障定位者。这种模式完全没有必要。但最重要的是，它不能大规模扩展。  
> ⏱ 2024-04-18 23:18:22 ^3300071827-14-11884-12045

### 第4章 可观测性与DevOps、SRE和云原生的关联

> 📌 旧的单体系统不那么突现复杂性，因此更简单的监控方法就足够了。你可以轻松推理这些系统内部正在发生的事情，以及在哪里可能出现看不见的问题。今天，大规模运行云原生系统需要更先进的社会技术实践，如持续交付(continuous delivery)和可观测性。  
> ⏱ 2024-04-23 18:48:02 ^3300071827-15-1561-1686



# 读书笔记




# 本书评论

